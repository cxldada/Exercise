[TOC]

## 顺序表
用一组**地址连续**的存储单元依次存储线性表的数据元素，这种存储结构的线性表称为顺序表
> 在逻辑上相邻的元素，在物理上也相邻。记作：
> l是单个元素的数据长度

$$
LOC(a_{i+l}) = LOC(a_i)+l
$$

> 线性表第```i```个数据元素满足：

$$
LOC(a_i) = LOC(a_1) + (i - 1) \times l;
$$

>综合来说：
 1. 顺序表适合读写数据(O(1))，不适合插入和删除(O(n))
 2. 不需要额外的空间来存储元素之间的关系
 3. 当线性表长度变化较大时，难以确定存储空间的容量
 4. 容易造成存储空间的碎片

### 顺序表的存储结构
```c
#define _SQ_ELEM_TYPE int
typedef struct {
    _SQ_ELEM_TYPE *data;
    int length;
} SqList
```

 ### 初始化操作
```c
// initialize sequence list
Status InitList(SqList *l) {
    l->data = malloc(_SQ_MAXSIZE_ * sizeof(_SQ_ELEM_TYPE));
    if(!l->data)
        exit(OVERFLOW);

    l->length = 0;
    return OK;
}
```
时间复杂度为O(1)

### 取值操作
```c
// get element data from position i
Status GetElem(SqList l, int i, _SQ_ELEM_TYPE *e) {
    if(i < 1 || i > l.length)
        return ERROR;

    *e = l.data[i - 1];
    return OK;
}
```
因为可以随机访问，所以时间复杂度为O(1)

### 查找操作
```c
int compare(_SQ_ELEM_TYPE l, _SQ_ELEM_TYPE r) {
    if(l == r)
        return 1;

    return 0;
}

// using func to find position of e in l
int LocateElem(SqList l, _SQ_ELEM_TYPE e, compare_func func) {
    for (int i = 0; i < l.length; ++i) {
        if (func(e, l.data[i]))
            return i + 1;
    }

    return 0;
}
```
查找操作主要耗时步骤是比较操作，所以最坏的时间复杂度为O(n)

### 插入、删除操作
```c
Status ListInsert(SqList *l, int i, _SQ_ELEM_TYPE e) {
    if (i < 1 || (l->length + 1) < i || l->length == _SQ_MAXSIZE_)
        return ERROR;

    for (int pos = l->length; pos > (i - 1); --pos) {
        l->data[pos] = l->data[pos - 1];
    }

    l->data[i - 1] = e;
    ++l->length;
    return OK;
}

Status ListDelete(SqList *l, int i, _SQ_ELEM_TYPE *e) {
    if(i < 1 || (i > l->length))
        return ERROR;

    *e = l->data[i - 1];
    for (int pos = (i - 1); pos < (l->length - 1); ++pos) {
        l->data[pos] = l->data[pos + 1];
    }

    --l->length;
    return OK;
}
```
插入操作的主要耗时操作是将数据移位，所以时间复杂度为O(n)

###
顺序表的优点：随机访问，随机存取
顺序表的缺点：插入和删除操作时，需要移动大量元素

###
详细代码：
[sequence.h](https://github.com/cxldada/Exercise/blob/master/DataStructure_C/sequence.h)
[sequence.c](https://github.com/cxldada/Exercise/blob/master/DataStructure_C/sequence.c)